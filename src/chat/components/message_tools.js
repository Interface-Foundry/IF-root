require('kip')

// I'm sorry i couldn't understand that
function default_reply (message) {
  return new db.Message({
    incoming: false,
    thread_id: message.thread_id,
    resolved: true,
    user_id: 'kip',
    origin: message.origin,
    text: "I'm sorry I couldn't quite understand that",
    source: message.source,
    mode: message.mode,
    action: message.action
  })
}

// get a simple text message
function text_reply (message, text) {
  var msg = default_reply(message)
  msg.text = text
  msg.execute = msg.execute ? msg.execute : []
  msg.execute.push({
    mode: 'banter',
    action: 'reply'
  })
  return msg
}

module.exports = {
  default_reply: default_reply,
  text_reply: text_reply
}
