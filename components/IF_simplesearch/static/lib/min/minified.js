(function(){"use strict";var t,e,n,o,r,i,u,l,a,f,c,m,s,d,h,g,p,v,w=[].slice;angular.module("angular-inview",[]).directive("inView",["$parse",function(t){return{restrict:"A",require:"?^inViewContainer",link:function(e,n,r,l){var a,f,c,s,d,h;if(r.inView)return a=t(r.inView),f={element:n,wasInView:!1,offset:0,customDebouncedCheck:null,callback:function(t,o,r){return null==t&&(t={}),e.$evalAsync(function(i){return function(){return t.inViewTarget=n[0],a(e,{$event:t,$inview:o,$inviewpart:r})}}(this))}},null!=r.inViewOptions&&(c=e.$eval(r.inViewOptions))&&(f.offset=c.offset||[c.offsetTop||0,c.offsetBottom||0],c.debounce&&(f.customDebouncedCheck=u(function(t){return i([f],n[0],t)},c.debounce))),s=null!=(d=null!=(h=f.customDebouncedCheck)?h:null!=l?l.checkInView:void 0)?d:p,null!=l?l.addItem(f):o(f),setTimeout(s),e.$on("$destroy",function(){return null!=l&&l.removeItem(f),m(f)})}}}]).directive("inViewContainer",function(){return{restrict:"AC",controller:["$element",function(t){return this.items=[],this.addItem=function(t){return this.items.push(t)},this.removeItem=function(t){var e;return this.items=function(){var n,o,r,i;for(r=this.items,i=[],n=0,o=r.length;o>n;n++)e=r[n],e!==t&&i.push(e);return i}.call(this)},this.checkInView=function(e){return function(n){var o,r,u,l;for(l=e.items,r=0,u=l.length;u>r;r++)o=l[r],null!=o.customDebouncedCheck&&o.customDebouncedCheck();return i(function(){var t,e,n,r;for(n=this.items,r=[],t=0,e=n.length;e>t;t++)o=n[t],null==o.customDebouncedCheck&&r.push(o);return r}.call(e),t[0],n)}}(this),this}],link:function(t,e,n,o){return e.bind("scroll",o.checkInView),s(o),t.$on("$destroy",function(){return e.unbind("scroll",o.checkInView),g(o)})}}}),n=[],o=function(t){return n.push(t),r()},m=function(t){var e;return n=function(){var o,r,i;for(i=[],o=0,r=n.length;r>o;o++)e=n[o],e!==t&&i.push(e);return i}(),h()},t=[],s=function(e){return t.push(e),r()},g=function(e){var n;return t=function(){var o,r,i;for(i=[],o=0,r=t.length;r>o;o++)n=t[o],n!==e&&i.push(n);return i}(),h()},e=!1,v=function(e){var o,r,i;for(r=0,i=t.length;i>r;r++)o=t[r],o.checkInView(e);return n.length?p(e):void 0},r=function(){return e?void 0:(e=!0,angular.element(window).bind("checkInView click ready scroll resize",v))},h=function(){return!e||n.length||t.length?void 0:(e=!1,angular.element(window).unbind("checkInView click ready scroll resize",v))},d=function(t,e,n,o,r){var i,u;if(n){if(i=l(e.element[0]).top+window.pageYOffset,u=o&&r&&"neither"||o&&"top"||r&&"bottom"||"both",!e.wasInView||e.wasInView!==u||i!==e.lastOffsetTop)return e.lastOffsetTop=i,e.wasInView=u,e.callback(t,!0,u)}else if(e.wasInView)return e.wasInView=!1,e.callback(t,!1)},i=function(t,e,n){var o,r,i,u,m,s,h,g,p,v,w,b,D,$,C;if(C={top:0,bottom:f()},e&&e!==window){if(o=l(e),o.top>C.bottom||o.bottom<C.top){for(s=0,g=t.length;g>s;s++)m=t[s],d(n,m,!1);return}o.top>C.top&&(C.top=o.top),o.bottom<C.bottom&&(C.bottom=o.bottom)}for($=[],h=0,p=t.length;p>h;h++)m=t[h],u=m.element[0],o=l(u),i=o.top+(c(m.offset)?a(o,m.offset):parseInt(null!=(v=null!=(w=m.offset)?w[0]:void 0)?v:m.offset)),r=o.bottom+(c(m.offset)?a(o,m.offset):parseInt(null!=(b=null!=(D=m.offset)?D[1]:void 0)?b:m.offset)),i<C.bottom&&r>=C.top?$.push(d(n,m,!0,r>C.bottom,i<C.top)):$.push(d(n,m,!1));return $},c=function(t){return"string"==typeof t&&"%"===t.slice(-1)},a=function(t,e){var n;return n=e.substring(0,e.length-1),(t.bottom-t.top)*(n/100)},f=function(){var t,e,n;return(t=window.innerHeight)?t:(e=document.compatMode,(e||!("undefined"!=typeof $&&null!==$&&null!=(n=$.support)?n.boxModel:void 0))&&(t="CSS1Compat"===e?document.documentElement.clientHeight:document.body.clientHeight),t)},l=function(t){var e,n,o;if(null!=t.getBoundingClientRect)return t.getBoundingClientRect();for(o=0,e=t;e;)o+=e.offsetTop,e=e.offsetParent;for(n=t.parentElement;n;)null!=n.scrollTop&&(o-=n.scrollTop),n=n.parentElement;return{top:o,bottom:o+t.offsetHeight}},u=function(t,e){var n;return n=null,function(){var o;return o=1<=arguments.length?w.call(arguments,0):[],null!=n&&clearTimeout(n),n=setTimeout(function(){return t.apply(null,o)},null!=e?e:100)}},p=function(t){var e,o,r;for(o=0,r=n.length;r>o;o++)e=n[o],null!=e.customDebouncedCheck&&e.customDebouncedCheck();return i(function(){var t,o,r;for(r=[],t=0,o=n.length;o>t;t++)e=n[t],null==e.customDebouncedCheck&&r.push(e);return r}(),null,t)}}).call(this),function(){"use strict";function t(t){return angular.isUndefined(t)||null===t}function e(e,n){return e.module("angularMoment",[]).constant("angularMomentConfig",{preprocess:null,timezone:null,format:null,statefulFilters:!0}).constant("moment",n).constant("amTimeAgoConfig",{withoutSuffix:!1,serverTime:null,titleFormat:null,fullDateThreshold:null,fullDateFormat:null}).directive("amTimeAgo",["$window","moment","amMoment","amTimeAgoConfig",function(n,o,r,i){return function(u,l,a){function f(){var t;if(g)t=g;else if(i.serverTime){var e=(new Date).getTime(),n=e-$+i.serverTime;t=o(n)}else t=o();return t}function c(){p&&(n.clearTimeout(p),p=null)}function m(t){var e=f().diff(t,"day");e=Math.round(e/8+1);var o=b&&e>=b;if(o)l.text(t.format(D));else{t.from(f(),v);1===e?l.text(e+" Day Ago"):l.text(e+" Days Ago")}if(w&&!l.attr("title")&&l.attr("title",t.local().format(w)),!o){var r=Math.abs(f().diff(t,"minute")),i=3600;1>r?i=1:60>r?i=30:180>r&&(i=300),p=n.setTimeout(function(){m(t)},1e3*i)}}function s(t){T&&l.attr("datetime",t)}function d(){if(c(),h){var t=r.preprocessDate(h);m(t),s(t.toISOString())}}var h,g,p=null,v=i.withoutSuffix,w=i.titleFormat,b=i.fullDateThreshold,D=i.fullDateFormat,$=(new Date).getTime(),C=a.amTimeAgo,T="TIME"===l[0].nodeName.toUpperCase();u.$watch(C,function(e){return t(e)||""===e?(c(),void(h&&(l.text(""),s(""),h=null))):(h=e,void d())}),e.isDefined(a.amFrom)&&u.$watch(a.amFrom,function(e){g=t(e)||""===e?null:o(e),d()}),e.isDefined(a.amWithoutSuffix)&&u.$watch(a.amWithoutSuffix,function(t){"boolean"==typeof t?(v=t,d()):v=i.withoutSuffix}),a.$observe("amFullDateThreshold",function(t){b=t,d()}),a.$observe("amFullDateFormat",function(t){D=t,d()}),u.$on("$destroy",function(){c()}),u.$on("amMoment:localeChanged",function(){d()})}}]).service("amMoment",["moment","$rootScope","$log","angularMomentConfig",function(t,n,o,r){var i=null;this.changeLocale=function(o,r){var i=t.locale(o,r);return e.isDefined(o)&&n.$broadcast("amMoment:localeChanged"),i},this.changeTimezone=function(e){t.tz&&t.tz.setDefault?(t.tz.setDefault(e),n.$broadcast("amMoment:timezoneChanged")):o.warn("angular-moment: changeTimezone() works only with moment-timezone.js v0.3.0 or greater."),r.timezone=e,i=e},this.preprocessDate=function(e){return i!==r.timezone&&this.changeTimezone(r.timezone),r.preprocess?r.preprocess(e):t(!isNaN(parseFloat(e))&&isFinite(e)?parseInt(e,10):e)}}]).filter("amParse",["moment",function(t){return function(e,n){return t(e,n)}}]).filter("amFromUnix",["moment",function(t){return function(e){return t.unix(e)}}]).filter("amUtc",["moment",function(t){return function(e){return t.utc(e)}}]).filter("amUtcOffset",["amMoment",function(t){function e(e,n){return t.preprocessDate(e).utcOffset(n)}return e}]).filter("amLocal",["moment",function(t){return function(e){return t.isMoment(e)?e.local():null}}]).filter("amTimezone",["amMoment","angularMomentConfig","$log",function(t,e,n){function o(e,o){var r=t.preprocessDate(e);return o?r.tz?r.tz(o):(n.warn("angular-moment: named timezone specified but moment.tz() is undefined. Did you forget to include moment-timezone.js ?"),r):r}return o}]).filter("amCalendar",["moment","amMoment","angularMomentConfig",function(e,n,o){function r(e){if(t(e))return"";var o=n.preprocessDate(e);return o.isValid()?o.calendar():""}return r.$stateful=o.statefulFilters,r}]).filter("amDifference",["moment","amMoment","angularMomentConfig",function(e,n,o){function r(o,r,i,u){if(t(o))return"";var l=n.preprocessDate(o),a=t(r)?e():n.preprocessDate(r);return l.isValid()&&a.isValid()?l.diff(a,i,u):""}return r.$stateful=o.statefulFilters,r}]).filter("amDateFormat",["moment","amMoment","angularMomentConfig",function(e,n,o){function r(e,o){if(t(e))return"";var r=n.preprocessDate(e);return r.isValid()?r.format(o):""}return r.$stateful=o.statefulFilters,r}]).filter("amDurationFormat",["moment","angularMomentConfig",function(e,n){function o(n,o,r){return t(n)?"":e.duration(n,o).humanize(r)}return o.$stateful=n.statefulFilters,o}]).filter("amTimeAgo",["moment","amMoment","angularMomentConfig",function(e,n,o){function r(o,r,i){var u,l;return t(o)?"":(o=n.preprocessDate(o),u=e(o),u.isValid()?(l=e(i),!t(i)&&l.isValid()?u.from(l,r):u.fromNow(r)):"")}return r.$stateful=o.statefulFilters,r}]).filter("amSubtract",["moment","angularMomentConfig",function(e,n){function o(n,o,r){return t(n)?"":e(n).subtract(parseInt(o,10),r)}return o.$stateful=n.statefulFilters,o}]).filter("amAdd",["moment","angularMomentConfig",function(e,n){function o(n,o,r){return t(n)?"":e(n).add(parseInt(o,10),r)}return o.$stateful=n.statefulFilters,o}])}"function"==typeof define&&define.amd?define(["angular","moment"],e):"undefined"!=typeof module&&module&&module.exports?(e(require("angular"),require("moment")),module.exports="angularMoment"):e(angular,("undefined"!=typeof global?global:window).moment)}(),function(t,e,n){"use strict";var o=e.module("ngHolder",[]);o.directive("holder",[function(){return{link:function(t,e,n){n.holder&&n.$set("data-src",n.holder),Holder.run({images:e[0]})}}}])}(window,window.angular);